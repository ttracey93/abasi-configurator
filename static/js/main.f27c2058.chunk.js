(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e){e.exports={body:{label:"Body",icon:"body",key:"body"},neck:{label:"Neck",icon:"headstock",key:"neck"},fingerboard:{label:"Fingerboard",icon:"headstock",key:"fingerboard"},sidedots:{label:"Sidedots",icon:"headstock",key:"sidedots"},hardware:{label:"Hardware Color",icon:"headstock",key:"hardware"},battery:{label:"Battery",icon:"battery",key:"battery"},pickups:{label:"Pickup Color",icon:"headstock",key:"pickups"},finish:{label:"Finish",icon:"paint-brush",key:"finish"},case:{label:"Case",icon:"headstock",key:"case"}}},20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(14),r=a.n(o),s=(a(25),a(8)),c=a.n(s),l=a(15),h=a(10),d=a(7),u=a(2),m=a(3),p=a(5),g=a(4),b=a(6),v=a(1),f=a(11),k=a.n(f),O=6,j="Standard",y="Headstock",M={HOME:"Home",OPTION:"Option",PAYMENT:"Payment",CONFIRMATION:"Confirmation"},C=a(16),E=(a(29),a(17)),w=a.n(E),N=a(18),x=a.n(N),I=a(19),D=a.n(I),B="Color",S=a(9);x()(S);var T=function(){function e(t){Object(u.a)(this,e),this.TEXTURE_ANISOTROPY=16,this.data=t,this.animate=this.animate.bind(this),this.resize=this.resize.bind(this),this.renderer=new S.WebGLRenderer,this.container=void 0,this.textureLoader=new S.TextureLoader,this.textures={diffuse:this.loadTexture("new/guitar/original/textures/Default_Diffuse.png"),normal:this.loadTexture("new/guitar/original/textures/Default_Normal.png"),roughness:this.loadTexture("new/guitar/original/textures/Default_Roughness.png"),specular:this.loadTexture("new/guitar/original/textures/Default_Specular.png")},this.diffuseMaterial=new S.MeshPhongMaterial({map:this.textures.diffuse}),this.handleEvent=this.handleEvent.bind(this),this.colorChange=this.colorChange.bind(this),this.colors={orange:new S.MeshPhysicalMaterial({color:16025922,metalness:.9,roughness:.2,name:"orange"}),red:new S.MeshPhysicalMaterial({color:15010607,metalness:.9,roughness:.2,name:"red"}),purple:new S.MeshPhysicalMaterial({color:8653237,metalness:.9,roughness:.2,name:"purple"}),white:new S.MeshPhysicalMaterial({color:16777215,metalness:.9,roughness:.2,name:"purple"})},this.models={}}return Object(m.a)(e,[{key:"getRendererElement",value:function(){return this.renderer.domElement}},{key:"update",value:function(e){}},{key:"createScene",value:function(){var e=Object(h.a)(c.a.mark(function e(){var t,a,n=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.scene=new S.Scene,this.camera=new S.PerspectiveCamera(75,this.container.clientWidth/this.container.clientHeight,.1,1e3),this.camera.position.set(0,30,-50),this.controls=new D.a(this.camera,this.renderer.domElement),this.controls.rotateSpeed=1,this.controls.zoomSpeed=1,this.controls.maxDistance=150,this.controls.minDistance=35,this.controls.panSpeed=0,this.controls.noZoom=!1,this.controls.noPan=!0,t=new S.AmbientLight(16777215,.6),this.scene.add(t),(a=new S.DirectionalLight(16777215,.4)).position.set(35,15,-20),this.scene.add(a),this.spotLight=a,this.spotLight.lookAt(30,15,0),this.loadModel("abasi/raw.fbx",function(e){e.traverse(function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0)}),e.position.x=30,e.position.y=15,e.rotation.x=-Math.PI/2,console.log(e.position),n.scene.add(e),n.models.abasi=e}),window.addEventListener("resize",this.resize,!1),this.animate();case 22:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadModel",value:function(e,t){console.log("Loading model...",e),(new w.a).load(e,t)}},{key:"loadModelOBJ",value:function(e,t){console.log("Loading OBJ model...",e),(new S.OBJLoader).load(e,t)}},{key:"loadTexture",value:function(e){console.log("Loading texture...",e);var t=this.textureLoader.load(e);return t.anisotropy=this.renderer.capabilities.getMaxAnisotropy(),t.wrapS=S.ClampToEdgeWrapping,t.wrapT=S.ClampToEdgeWrapping,t.minFilter=S.LinearMipMapLinearFilter,t.magFilter=S.LinearMipMapLinearFilter,t}},{key:"resize",value:function(){this.camera.aspect=this.container.clientWidth/this.container.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight)}},{key:"setModel",value:function(e){var t=this;this.scene.remove(this.currentModel),e.traverse(function(e){e.isMesh&&(e.material.map=t.currentTexture)}),this.currentModel=e,this.scene.add(e)}},{key:"animate",value:function(){requestAnimationFrame(this.animate),this.controls.update(),this.renderScene()}},{key:"renderScene",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1,this.animate()}},{key:"handleEvent",value:function(e,t){switch(e){case B:this.colorChange(t.finish);break;default:console.log("Invalid event type",e)}}},{key:"colorChange",value:function(e){console.log("Color change!!!",e);var t=this.colors[e];if(!t)return console.log("Invalid color material specified!",e);var a=this.models.abasi;t.emissive=t.color,a.traverse(function(e){e.material&&(e.material=t)})}}]),e}(),L=(i.a.Component,function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a.rotate=a.rotate.bind(Object(v.a)(Object(v.a)(a))),a.switchModels=a.switchModels.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e){this.props.setData(e)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"rotate",value:function(){console.log("rotated")}},{key:"mountRenderer",value:function(e){this.containerRef.appendChild(e)}},{key:"switchModels",value:function(){console.log("Switching models!")}},{key:"render",value:function(){var e=Object.assign({},this.props.data),t=this.props.itemIndex>0;return delete e.items,i.a.createElement("div",{className:"container evenly viewport"},i.a.createElement("div",{id:"renderer-container",className:"viewport-view"}),t&&i.a.createElement("div",{className:"back-button"},i.a.createElement("button",{className:"btn",onClick:this.props.goBack},"Back")))}}]),t}(i.a.Component)),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(){this.props.callback(this.props.data)}},{key:"render",value:function(){var e=this.props.data.label||this.props.data.title,t=this.props.data.icon,a=t?"icons/".concat(t,".svg"):"icons/headstock.svg";return i.a.createElement("div",{className:"container columns evenly tile",role:"presentation",onClick:this.handleClick},i.a.createElement("div",{className:"tile-label"},e,i.a.createElement("i",{src:a})),this.props.data.variants&&i.a.createElement("div",{className:"tile-price"},"$",this.props.data.variants[0].price," USD"))}}]),t}(i.a.Component),R=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a.chooseColor=a.chooseColor.bind(Object(v.a)(Object(v.a)(a))),a.colors=[{name:"orange",color:"orange"},{name:"red",color:"red"},{name:"purple",color:"purple"},{name:"white",color:"white"}],a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"chooseColor",value:function(e){this.props.renderer.colorChange(e)}},{key:"handleChange",value:function(e){this.props.setData(e,this.props.items.key)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"render",value:function(){var e=this,t=this.props.items,a=k.a.map(t.products||t,function(t,a){var n=t.handle?e.props.renderer.getTextureImage(t.handle):void 0;return i.a.createElement(P,{key:a,data:t,callback:e.handleChange,imageSource:n})}),n=this.props.columns?"menu columns":"menu",o=k.a.map(this.colors,function(t){var a={backgroundColor:t.color};return i.a.createElement("div",{className:"color",style:a,onClick:function(){return e.chooseColor(t.name)}})});return i.a.createElement("div",{className:n},i.a.createElement("div",{className:"logo-container"},i.a.createElement("img",{src:"logo.png",className:"abasi-logo"})),i.a.createElement("div",{className:"tiles-container"},a),i.a.createElement("div",{className:"color-container"},o))}}]),t}(i.a.Component);R.defaultProps={columns:!1};var W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e,t){this.props.setData(e,t)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container home"},i.a.createElement("div",{className:"container home-menu"},i.a.createElement(R,{items:this.props.getItems(),setData:this.handleChange,changeMode:this.changeMode,columns:!0,renderer:this.props.renderer})),i.a.createElement("div",{className:"container home-viewport"},i.a.createElement(L,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode,reset:this.props.reset,itemIndex:this.props.itemIndex,goBack:this.props.goBack})))}}]),t}(i.a.Component),A=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={something:void 0},a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.something||"Info pane"}}]),t}(i.a.Component),F=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e,t){this.props.setData(e,t)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"container option-menu"},i.a.createElement("div",{className:"back-button"},i.a.createElement("button",{className:"btn",onClick:this.props.goBack},"Back")),i.a.createElement(R,{items:this.props.getItems(),setData:this.handleChange,changeMode:this.changeMode,columns:!0})),i.a.createElement("div",{className:"container columns"},i.a.createElement("div",{className:"container option-viewport"},i.a.createElement(L,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode})),i.a.createElement("div",{className:"container option-info"},i.a.createElement(A,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode}))))}}]),t}(i.a.Component),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e,t){this.props.setData(e,t)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"container option-menu"},i.a.createElement("div",{className:"back-button"},i.a.createElement("button",{className:"btn",onClick:this.props.goBack},"Back")),i.a.createElement(R,{items:this.props.getItems(),setData:this.handleChange,changeMode:this.changeMode,columns:!0})),i.a.createElement("div",{className:"container columns"},i.a.createElement("div",{className:"container option-viewport"},i.a.createElement(L,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode})),i.a.createElement("div",{className:"container option-info"},i.a.createElement(A,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode}))))}}]),t}(i.a.Component),z=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(g.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(v.a)(Object(v.a)(a))),a.changeMode=a.changeMode.bind(Object(v.a)(Object(v.a)(a))),a}return Object(b.a)(t,e),Object(m.a)(t,[{key:"handleChange",value:function(e,t){this.props.setData(e,t)}},{key:"changeMode",value:function(e){this.props.changeMode(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"container option-menu"},i.a.createElement("div",{className:"back-button"},i.a.createElement("button",{className:"btn",onClick:this.props.goBack},"Back")),i.a.createElement(R,{items:this.props.getItems(),setData:this.handleChange,changeMode:this.changeMode,columns:!0})),i.a.createElement("div",{className:"container columns"},i.a.createElement("div",{className:"container option-viewport"},i.a.createElement(L,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode})),i.a.createElement("div",{className:"container option-info"},i.a.createElement(A,{data:this.props.data,setData:this.handleChange,changeMode:this.changeMode}))))}}]),t}(i.a.Component),J=(a(31),function(e){function t(e){var a,n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(g.a)(t).call(this,e))).state={data:t.getInitialData(),items:[C],itemIndex:0,mode:M.HOME},n.setData=n.setData.bind(Object(v.a)(Object(v.a)(n))),n.getItems=n.getItems.bind(Object(v.a)(Object(v.a)(n))),n.changeMode=n.changeMode.bind(Object(v.a)(Object(v.a)(n))),n.reset=n.reset.bind(Object(v.a)(Object(v.a)(n))),n.goBack=n.goBack.bind(Object(v.a)(Object(v.a)(n))),n.propogateEvent=n.propogateEvent.bind(Object(v.a)(Object(v.a)(n))),n.components=(a={},Object(d.a)(a,M.HOME,W),Object(d.a)(a,M.OPTION,F),Object(d.a)(a,M.PAYMENT,H),Object(d.a)(a,M.CONFIRMATION,z),a),n.renderer=new T(n.state.data),n}return Object(b.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.rendererContainer=document.getElementById("renderer-container"),this.renderer.container=this.rendererContainer,this.renderer.scene||this.renderer.createScene(),this.rendererContainer.appendChild(this.renderer.getRendererElement())}},{key:"componentDidUpdate",value:function(){this.state.mode!==M.CONFIRMATION&&(this.rendererContainer=document.getElementById("renderer-container"),this.renderer.container=this.rendererContainer,this.renderer.resize(),this.renderer.update(this.state.data),this.rendererContainer.appendChild(this.renderer.getRendererElement()))}},{key:"setData",value:function(){var e=Object(h.a)(c.a.mark(function e(t,a){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.collectionId&&!t.collections){e.next=6;break}this.state.items.push(t.collections||t),this.state.itemIndex+=1,this.propogateItems(),e.next=13;break;case 6:if(a){e.next=8;break}throw new Error("No item key supplied!");case 8:(n=Object(l.a)({},this.state.data))[a]=t.handle,this.state.data=n,this.setState({data:n}),this.updateCart();case 13:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"getItems",value:function(){return this.state.items[this.state.itemIndex]}},{key:"goBack",value:function(){if(this.state.itemIndex>0){var e=this.state.itemIndex-1;this.state.items.pop(),this.setState({itemIndex:e})}}},{key:"reset",value:function(){}},{key:"changeMode",value:function(e){this.setState({mode:e})}},{key:"propogateEvent",value:function(e){this.renderer.handleEvent(e,this.state.data)}},{key:"render",value:function(){var e=this.components[this.state.mode];if(!e)throw new Error("Component missing for mode ".concat(this.state.mode));return i.a.createElement("div",{className:"configurator"},this.getItems()&&i.a.createElement(e,{data:this.state.data,setData:this.setData,getItems:this.getItems,changeMode:this.changeMode,reset:this.reset,itemIndex:this.state.itemIndex,goBack:this.goBack,renderer:this.renderer}))}}],[{key:"getInitialData",value:function(){return{strings:O,scale:j,headstyle:y,price:"0.00"}}}]),t}(i.a.Component)),_=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(i.a.createElement(J,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/abasi-configurator",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/abasi-configurator","/service-worker.js");_?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):U(e)})}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.f27c2058.chunk.js.map