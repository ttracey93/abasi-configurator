{"version":3,"sources":["constants/strings.js","constants/scale.js","constants/headstyle.js","constants/modes.js","components/Viewport.js","components/Price.js","components/Tile.js","components/Menu.js","views/HomeView.js","components/Info.js","views/OptionView.js","components/Renderer.js","Configurator.js","App.js","registerServiceWorker.js","index.js"],"names":["strings","scale","headstyle","modes","HOME","OPTION","CONFIRMATION","Viewport","React","Component","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","changeMode","rotate","switchModels","data","setData","mode","console","log","element","containerRef","appendChild","viewData","assign","showBackButton","itemIndex","items","react_default","a","createElement","className","id","onClick","goBack","reset","Tile","handleClick","callback","label","title","icon","iconSource","concat","role","imageSource","src","alt","variants","price","Menu","tile","key","_this2","tiles","_","map","products","item","i","handle","renderer","getTextureImage","undefined","Tile_Tile","columns","defaultProps","HomeView","Viewport_Viewport","Info","state","something","OptionView","Menu_Menu","getItems","Info_Info","Three","require","OBJLoader","Renderer","TEXTURE_ANISOTROPY","animate","resize","WebGLRenderer","container","textureLoader","TextureLoader","textures","diffuse","loadTexture","normal","roughness","specular","diffuseMaterial","MeshPhongMaterial","domElement","bodyStyle","bodyWood","scene","remove","models","fretboard","fannedFretboard","frets","fretsFanned","neck","neckFanned","currentFretboardModel","includes","currentFretsModel","currentNeckModel","add","currentTexture","setModel","archtop","setSize","clientWidth","clientHeight","Scene","camera","PerspectiveCamera","position","set","controls","OrbitControls","background","Color","fog","Fog","light","HemisphereLight","DirectionalLight","castShadow","shadow","top","bottom","left","right","grid","GridHelper","material","opacity","transparent","loadModel","fbx","traverse","child","isMesh","receiveShadow","y","x","rotation","Math","PI","lookAt","loadModelOBJ","obj","z","node","window","addEventListener","path","cb","FBXLoader","load","texture","anisotropy","capabilities","getMaxAnisotropy","wrapS","ClampToEdgeWrapping","wrapT","minFilter","LinearMipMapLinearFilter","magFilter","aspect","updateProjectionMatrix","model","currentModel","requestAnimationFrame","update","renderScene","render","paused","Configurator","_this$components","getInitialData","NewOptions","Modes","components","defineProperty","rendererContainer","document","getElementById","createScene","getRendererElement","collectionId","collections","push","propogateItems","Error","dataCopy","setState","updateCart","pop","Strings","Scale","Headstyle","App","Configurator_Configurator","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","ReactDOM","src_App","URL","process","origin","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.c60756b0.chunk.js","sourcesContent":["export default {\r\n  SIX: 6,\r\n  SEVEN: 7,\r\n  EIGHT: 8,\r\n};\r\n","export default {\r\n  STANDARD: 'Standard',\r\n  MULTISCALE: 'Multiscale',\r\n};\r\n","export default {\r\n  HEADSTOCK: 'Headstock',\r\n  HEADLESS: 'Headless',\r\n};\r\n","export default {\r\n  HOME: 'Home',\r\n  OPTION: 'Option',\r\n  CONFIRMATION: 'Confirmation',\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Price from './Price';\r\nimport Modes from '../constants/modes';\r\n\r\nexport default class Viewport extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.changeMode = this.changeMode.bind(this);\r\n    this.rotate = this.rotate.bind(this);\r\n    this.switchModels = this.switchModels.bind(this);\r\n    // this.purchase = this.purchase.bind(this);\r\n  }\r\n\r\n  handleChange(data) {\r\n    this.props.setData(data);\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.props.changeMode(mode);\r\n  }\r\n\r\n  rotate() {\r\n    console.log('rotated');\r\n  }\r\n\r\n  mountRenderer(element) {\r\n    this.containerRef.appendChild(element);\r\n  }\r\n\r\n  switchModels() {\r\n    console.log('Switching models!');\r\n  }\r\n\r\n  render() {\r\n    const viewData = Object.assign({}, this.props.data);\r\n    const showBackButton = this.props.itemIndex > 0;\r\n    delete viewData.items;\r\n\r\n    return (\r\n      <div className=\"container evenly viewport\">\r\n        <div id=\"renderer-container\" className=\"viewport-view\" />\r\n\r\n        {showBackButton &&\r\n          <div className=\"back-button\">\r\n            <button className=\"btn\" onClick={this.props.goBack}>\r\n                Back\r\n            </button>\r\n          </div>\r\n        }\r\n\r\n        {this.props.reset && (\r\n          <div className=\"reset-button\">\r\n            <button className=\"btn\" onClick={this.props.reset}>\r\n              Reset\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"rotate-button\">\r\n          <button className=\"btn\" onClick={this.switchModels}>\r\n            Switch Models\r\n          </button>\r\n        </div>\r\n\r\n        {/* <div className=\"viewport-price\">\r\n          <Price data={this.props.data} changeMode={this.changeMode} />\r\n        </div> */}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nViewport.propTypes = {\r\n  reset: PropTypes.func.isRequired,\r\n  setData: PropTypes.func.isRequired,\r\n  changeMode: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  goBack: PropTypes.func.isRequired,\r\n  itemIndex: PropTypes.number.isRequired,\r\n};\r\n\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Price extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handlePrice = this.handlePrice.bind(this);\r\n  }\r\n\r\n  handlePrice() {\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container evenly price-container\">\r\n        <div>\r\n          <span className=\"price space-right\">${this.props.data.price}</span>\r\n\r\n          <i className=\"fa fa-question-circle price-icon tooltip\" role=\"presentation\" onClick={this.handlePrice}>\r\n            <span className=\"tooltiptext\">Click me for line item explanation of price</span>\r\n          </i>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nPrice.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Tile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick() {\r\n    this.props.callback(this.props.data);\r\n  }\r\n\r\n  render() {\r\n    const label = this.props.data.label || this.props.data.title;\r\n    const { icon } = this.props.data;\r\n\r\n    // Use fallback icon\r\n    const iconSource = icon ? `icons/${icon}.svg` : 'icons/headstock.svg';\r\n\r\n    return (\r\n      <div className=\"container columns evenly tile\" role=\"presentation\" onClick={this.handleClick}>\r\n        <div className=\"tile-label\">\r\n          {label}\r\n        </div>\r\n\r\n        <div className=\"tile-icon\">\r\n          {this.props.imageSource &&\r\n            <img\r\n              src={this.props.imageSource.src}\r\n              alt=\"Texture Preview\"\r\n            />\r\n          }\r\n\r\n          {!this.props.imageSource &&\r\n            <img\r\n              className=\"icon-image\"\r\n              src={iconSource}\r\n              alt=\"Configurator Icon\"\r\n            />\r\n          }\r\n        </div>\r\n\r\n        {this.props.data.variants &&\r\n          <div className=\"tile-price\">\r\n            ${this.props.data.variants[0].price} USD\r\n          </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nTile.propTypes = {\r\n  data: PropTypes.object.isRequired,\r\n  callback: PropTypes.func.isRequired,\r\n  imageSource: PropTypes.object,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport _ from 'lodash';\r\n\r\nimport Tile from './Tile';\r\n\r\nexport default class Menu extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.changeMode = this.changeMode.bind(this);\r\n  }\r\n\r\n  handleChange(tile) {\r\n    this.props.setData(tile, this.props.items.key);\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.props.changeMode(mode);\r\n  }\r\n\r\n  render() {\r\n    const { items } = this.props;\r\n\r\n    const tiles = _.map(items.products || items, (item, i) => {\r\n      const imageSource = item.handle ? this.props.renderer.getTextureImage(item.handle) : undefined;\r\n      return (\r\n        <Tile key={i} data={item} callback={this.handleChange} imageSource={imageSource} />\r\n      );\r\n    });\r\n\r\n    const className = this.props.columns ? 'menu columns' : 'menu';\r\n\r\n    return (\r\n      <div className={className}>\r\n        {tiles}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMenu.defaultProps = {\r\n  columns: false,\r\n};\r\n\r\nMenu.propTypes = {\r\n  items: PropTypes.object.isRequired,\r\n  setData: PropTypes.func.isRequired,\r\n  changeMode: PropTypes.func.isRequired,\r\n  columns: PropTypes.bool,\r\n  renderer: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ViewPort from '../components/Viewport';\r\nimport Menu from '../components/Menu';\r\n\r\nexport default class HomeView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.changeMode = this.changeMode.bind(this);\r\n  }\r\n\r\n  handleChange(data, key) {\r\n    this.props.setData(data, key);\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.props.changeMode(mode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"container home-menu\">\r\n          {/* <Menu\r\n            items={this.props.getItems()}\r\n            setData={this.handleChange}\r\n            changeMode={this.changeMode}\r\n            columns\r\n            renderer={this.props.renderer}\r\n          /> */}\r\n        </div>\r\n\r\n        <div className=\"container home-viewport\">\r\n          <ViewPort\r\n            data={this.props.data}\r\n            setData={this.handleChange}\r\n            changeMode={this.changeMode}\r\n            reset={this.props.reset}\r\n            itemIndex={this.props.itemIndex}\r\n            goBack={this.props.goBack}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nHomeView.propTypes = {\r\n  reset: PropTypes.func.isRequired,\r\n  setData: PropTypes.func.isRequired,\r\n  getItems: PropTypes.func.isRequired,\r\n  changeMode: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  itemIndex: PropTypes.number.isRequired,\r\n  goBack: PropTypes.func.isRequired,\r\n  renderer: PropTypes.object.isRequired,\r\n};\r\n","import React from 'react';\r\n\r\nexport default class Info extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      something: undefined,\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return this.state.something || 'Info pane';\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ViewPort from '../components/Viewport';\r\nimport Menu from '../components/Menu';\r\nimport Info from '../components/Info';\r\n\r\nexport default class OptionView extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.changeMode = this.changeMode.bind(this);\r\n  }\r\n\r\n  handleChange(data, key) {\r\n    this.props.setData(data, key);\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.props.changeMode(mode);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"container option-menu\">\r\n          <div className=\"back-button\">\r\n            <button className=\"btn\" onClick={this.props.goBack}>\r\n              Back\r\n            </button>\r\n          </div>\r\n\r\n          <Menu\r\n            items={this.props.getItems()}\r\n            setData={this.handleChange}\r\n            changeMode={this.changeMode}\r\n            columns\r\n          />\r\n        </div>\r\n\r\n        <div className=\"container columns\">\r\n          <div className=\"container option-viewport\">\r\n            <ViewPort\r\n              data={this.props.data}\r\n              setData={this.handleChange}\r\n              changeMode={this.changeMode}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"container option-info\">\r\n            <Info\r\n              data={this.props.data}\r\n              setData={this.handleChange}\r\n              changeMode={this.changeMode}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nOptionView.propTypes = {\r\n  setData: PropTypes.func.isRequired,\r\n  getItems: PropTypes.func.isRequired,\r\n  changeMode: PropTypes.func.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  goBack: PropTypes.func.isRequired,\r\n};\r\n","import ColladaLoader from 'three-collada-loader';\r\nimport FBXLoader from 'three-fbxloader-offical';\r\nimport OBJLoader from 'three-obj-loader';\r\nimport OrbitControls from 'three-orbitcontrols';\r\n\r\nconst Three = require('three');\r\n\r\nOBJLoader(Three);\r\n\r\nexport default class Renderer {\r\n  constructor(data) {\r\n    this.TEXTURE_ANISOTROPY = 16;\r\n\r\n    this.data = data;\r\n\r\n    // Event bindings\r\n    this.animate = this.animate.bind(this);\r\n    this.resize = this.resize.bind(this);\r\n\r\n    // Need to set container on instance\r\n    this.renderer = new Three.WebGLRenderer();\r\n    this.container = undefined;\r\n    this.textureLoader = new Three.TextureLoader();\r\n\r\n    this.textures = {\r\n      diffuse: this.loadTexture('new/guitar/original/textures/Default_Diffuse.png'),\r\n      normal: this.loadTexture('new/guitar/original/textures/Default_Normal.png'),\r\n      roughness: this.loadTexture('new/guitar/original/textures/Default_Roughness.png'),\r\n      specular: this.loadTexture('new/guitar/original/textures/Default_Specular.png'),\r\n    };\r\n\r\n    this.diffuseMaterial = new Three.MeshPhongMaterial({ map: this.textures.diffuse });\r\n  }\r\n\r\n  getRendererElement() {\r\n    return this.renderer.domElement;\r\n  }\r\n\r\n  update(data) {\r\n    // TODO: Auto-retrieval/constants?\r\n    const bodyStyle = data['body-style'];\r\n    const bodyWood = data['body-wood'];\r\n\r\n    if (bodyStyle) {\r\n      this.scene.remove(this.models.fretboard);\r\n      this.scene.remove(this.models.fannedFretboard);\r\n      this.scene.remove(this.models.frets);\r\n      this.scene.remove(this.models.fretsFanned);\r\n      this.scene.remove(this.models.neck);\r\n      this.scene.remove(this.models.neckFanned);\r\n\r\n      this.currentFretboardModel = bodyStyle.includes('multi') ? this.models.fannedFretboard : this.models.fretboard;\r\n      this.currentFretsModel = bodyStyle.includes('multi') ? this.models.fretsFanned : this.models.frets;\r\n      this.currentNeckModel = bodyStyle.includes('multi') ? this.models.neckFanned : this.models.neck;\r\n\r\n      this.scene.add(this.currentFretboardModel);\r\n      this.scene.add(this.currentNeckModel);\r\n      this.scene.add(this.currentFretsModel);\r\n    }\r\n\r\n    this.currentTexture = this.textures[bodyWood] || this.currentTexture;\r\n    this.setModel(this.models[bodyStyle] || this.models.archtop);\r\n}\r\n\r\n  async createScene() {\r\n    this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\r\n\r\n    this.scene = new Three.Scene();\r\n    this.camera = new Three.PerspectiveCamera(75, this.container.clientWidth / this.container.clientHeight, 0.1, 1000);\r\n    this.camera.position.set(0, 25, -50);\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n\r\n    this.scene.background = new Three.Color( 0x000000 );\r\n    this.scene.fog = new Three.Fog( 0xa0a0a0, 200, 1000 );\r\n\r\n    let light = new Three.HemisphereLight( 0xffffff, 0x444444 );\r\n    light.position.set( 0, 100, 0 );\r\n    this.scene.add( light );\r\n\r\n    light = new Three.DirectionalLight( 0xffffff );\r\n    light.position.set( 0, 25, 0 );\r\n    light.castShadow = true;\r\n    light.shadow.camera.top = 180;\r\n    light.shadow.camera.bottom = - 100;\r\n    light.shadow.camera.left = - 120;\r\n    light.shadow.camera.right = 120;\r\n    this.scene.add( light );\r\n\r\n    const grid = new Three.GridHelper( 2000, 20, 0xffffff, 0xffffff );\r\n    grid.material.opacity = 0.2;\r\n    grid.material.transparent = true;\r\n    this.scene.add( grid );\r\n\r\n    this.loadModel('abasi/raw.fbx', fbx => {\r\n      fbx.traverse( function ( child ) {\r\n        if ( child.isMesh ) {\r\n          child.castShadow = true;\r\n          child.receiveShadow = true;\r\n        }\r\n      });\r\n\r\n      fbx.position.y = 15;\r\n      fbx.position.x = 30;\r\n      fbx.rotation.x = - Math.PI / 2;\r\n\r\n      this.camera.lookAt(fbx.position);\r\n      this.scene.add(fbx);\r\n    });\r\n\r\n    this.loadModelOBJ('new/guitar/original/source/G_LP_READY.obj', obj => {\r\n      obj.position.z = 200;\r\n      obj.rotation.x = Math.PI / 2;\r\n      obj.rotation.z = Math.PI;\r\n\r\n      // For any meshes in the model, add our material.\r\n      obj.traverse( ( node ) => {\r\n\r\n        if ( node.isMesh ) node.material = this.diffuseMaterial;\r\n\r\n      });\r\n\r\n      this.scene.add(obj);\r\n    });\r\n  \r\n    window.addEventListener('resize', this.resize, false);\r\n\r\n    // Begin animation loop\r\n    this.animate();\r\n  }\r\n\r\n  loadModel(path, cb) {\r\n    console.log('Loading model...', path);\r\n    new FBXLoader().load(path, cb);\r\n  }\r\n\r\n  loadModelOBJ(path, cb) {\r\n    console.log('Loading OBJ model...', path);\r\n    new Three.OBJLoader().load(path, cb);\r\n  }\r\n\r\n  loadTexture(path) {\r\n    console.log('Loading texture...', path);\r\n\r\n    const texture = this.textureLoader.load(path);\r\n    texture.anisotropy = this.renderer.capabilities.getMaxAnisotropy();\r\n    texture.wrapS = Three.ClampToEdgeWrapping;\r\n    texture.wrapT = Three.ClampToEdgeWrapping;\r\n    texture.minFilter = Three.LinearMipMapLinearFilter;\r\n    texture.magFilter = Three.LinearMipMapLinearFilter;\r\n\r\n    return texture;\r\n  }\r\n\r\n  resize() {\r\n    this.camera.aspect = this.container.clientWidth / this.container.clientHeight;\r\n    this.camera.updateProjectionMatrix();\r\n    this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\r\n  }\r\n\r\n  /* eslint-disable no-param-reassign */\r\n  setModel(model) {\r\n    this.scene.remove(this.currentModel);\r\n\r\n    model.traverse((node) => {\r\n      if (node.isMesh) {\r\n        node.material.map = this.currentTexture;\r\n      }\r\n    });\r\n\r\n    this.currentModel = model;\r\n    this.scene.add(model);\r\n  }\r\n\r\n  animate() {\r\n    requestAnimationFrame(this.animate);\r\n    this.controls.update();\r\n    this.renderScene();\r\n  }\r\n\r\n  renderScene() {\r\n    this.renderer.render(this.scene, this.camera);\r\n  }\r\n\r\n  pause() {\r\n    this.paused = true;\r\n  }\r\n\r\n  resume() {\r\n    this.paused = false;\r\n    this.animate();\r\n  }\r\n}\r\n","import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nimport Strings from './constants/strings';\r\nimport Scale from './constants/scale';\r\nimport Headstyle from './constants/headstyle';\r\nimport Modes from './constants/modes';\r\n\r\nimport './Configurator.css';\r\n\r\nimport HomeView from './views/HomeView';\r\nimport OptionView from './views/OptionView';\r\n\r\nimport Renderer from './components/Renderer';\r\n\r\n// import Options from './constants/options.json';\r\nimport NewOptions from './constants/new-options.json';\r\n\r\nexport default class Configurator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    // Initial State\r\n    this.state = {\r\n      data: Configurator.getInitialData(),\r\n      items: [NewOptions],\r\n      itemIndex: 0,\r\n      mode: Modes.HOME,\r\n    };\r\n\r\n    // Event bindings\r\n    this.setData = this.setData.bind(this);\r\n    this.getItems = this.getItems.bind(this);\r\n    this.changeMode = this.changeMode.bind(this);\r\n    this.reset = this.reset.bind(this);\r\n    this.goBack = this.goBack.bind(this);\r\n\r\n    // Setup components to use for different views\r\n    this.components = {\r\n      [Modes.HOME]: HomeView,\r\n      [Modes.OPTION]: OptionView,\r\n    };\r\n\r\n    this.renderer = new Renderer(this.state.data);\r\n  }\r\n\r\n  componentWillMount() {\r\n    // TODO: Do Stuff\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Startup/attach renderer\r\n    this.rendererContainer = document.getElementById('renderer-container');\r\n    this.renderer.container = this.rendererContainer;\r\n\r\n    // Initialize the scene if we haven't already done so\r\n    if (!this.renderer.scene) {\r\n      this.renderer.createScene();\r\n    }\r\n\r\n    this.rendererContainer.appendChild(this.renderer.getRendererElement());\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    // Update/re-attach renderer\r\n    if (this.state.mode !== Modes.CONFIRMATION) {\r\n      this.rendererContainer = document.getElementById('renderer-container');\r\n      this.renderer.container = this.rendererContainer;\r\n      this.renderer.resize();\r\n      this.renderer.update(this.state.data);\r\n      this.rendererContainer.appendChild(this.renderer.getRendererElement());\r\n    }\r\n  }\r\n\r\n  static getInitialData() {\r\n    return {\r\n      strings: Strings.SIX,\r\n      scale: Scale.STANDARD,\r\n      headstyle: Headstyle.HEADSTOCK,\r\n      price: '0.00',\r\n    };\r\n  }\r\n\r\n  async setData(data, key) {\r\n    // If menu selection, set items and change mode\r\n    // Push items onto menu?\r\n    if (data.collectionId || data.collections) {\r\n      // this.state.mode = Modes.OPTION;\r\n      this.state.items.push(data.collections || data);\r\n      this.state.itemIndex += 1;\r\n      this.propogateItems();\r\n    } else {\r\n      // If product selection, deal with shopify\r\n      if (!key) {\r\n        throw new Error('No item key supplied!');\r\n      }\r\n\r\n      const dataCopy = { ...this.state.data };\r\n      dataCopy[key] = data.handle;\r\n      this.state.data = dataCopy;\r\n\r\n      this.setState({\r\n        data: dataCopy,\r\n      });\r\n\r\n      this.updateCart();\r\n    }\r\n  }\r\n\r\n  getItems() {\r\n    return this.state.items[this.state.itemIndex];\r\n  }\r\n\r\n  goBack() {\r\n    if (this.state.itemIndex > 0) {\r\n      const itemIndex = this.state.itemIndex - 1;\r\n      // const mode = itemIndex === 0 ? Modes.HOME : Modes.OPTION;\r\n\r\n      // Pop last menu set off\r\n      this.state.items.pop();\r\n\r\n      this.setState({\r\n        itemIndex,\r\n        // mode,\r\n      });\r\n    }\r\n  }\r\n\r\n  // Reset guitar options\r\n  reset() {\r\n    // this.setState({\r\n    //   data: Configurator.getInitialData(),\r\n    // });\r\n  }\r\n\r\n  changeMode(mode) {\r\n    this.setState({\r\n      mode,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // TODO: Pre-rendered components?\r\n    const Component = this.components[this.state.mode];\r\n\r\n    if (!Component) {\r\n      throw new Error(`Component missing for mode ${this.state.mode}`);\r\n    }\r\n\r\n    return (\r\n      <div className=\"configurator\">\r\n        {this.getItems() &&\r\n          <Component\r\n            data={this.state.data}\r\n            setData={this.setData}\r\n            getItems={this.getItems}\r\n            changeMode={this.changeMode}\r\n            reset={this.reset}\r\n            itemIndex={this.state.itemIndex}\r\n            goBack={this.goBack}\r\n            renderer={this.renderer}\r\n          />\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Configurator from './Configurator';\r\n\r\nconst App = () => (\r\n  <Configurator />\r\n);\r\n\r\nexport default App;\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,),);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log('This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ',);\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then((registration) => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then((response) => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then((registration) => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.',);\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then((registration) => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}